<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>React + Redux 学习笔记 | Vicky github page</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="React + Redux 学习笔记" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="记录一下学习React, Redux的过程" />
<meta property="og:description" content="记录一下学习React, Redux的过程" />
<link rel="canonical" href="http://localhost:4000/react,/redux/2022/01/13/react-learning.html" />
<meta property="og:url" content="http://localhost:4000/react,/redux/2022/01/13/react-learning.html" />
<meta property="og:site_name" content="Vicky github page" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-01-13T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="React + Redux 学习笔记" />
<script type="application/ld+json">
{"url":"http://localhost:4000/react,/redux/2022/01/13/react-learning.html","headline":"React + Redux 学习笔记","dateModified":"2022-01-13T00:00:00+08:00","datePublished":"2022-01-13T00:00:00+08:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/react,/redux/2022/01/13/react-learning.html"},"description":"记录一下学习React, Redux的过程","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Vicky github page" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Vicky github page</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/appium/">Appium Migration from 1.X to 2.X</a><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">React + Redux 学习笔记</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2022-01-13T00:00:00+08:00" itemprop="datePublished">Jan 13, 2022
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h5 id="记录一下学习react-redux的过程">记录一下学习React, Redux的过程</h5>

<p>推荐阅读：<a href="https://www.ruanyifeng.com/blog/2016/09/redux_tutorial_part_three_react-redux.html">React-Redux的用法</a></p>

<p>Redux is a pattern and library for managing and updating application state, using events called “actions”.</p>

<p>Redux 的工作流程：</p>

<ol>
  <li>用户发出 Action</li>
  <li>然后，Store 自动调用 Reducer，并且传入两个参数：当前 State 和收到的 Action。 Reducer 会返回新的 State</li>
  <li>State 一旦有变化，Store 就会调用监听函数。</li>
  <li>listener可以通过store.getState()得到当前状态。如果使用的是 React，这时可以触发重新渲染 View。</li>
</ol>

<p>Redux三要素：
store，action，reducer</p>

<p>A “store” is a container that holds your application’s global state.</p>

<p>Actions​
An action is a plain JavaScript object that has a type field. You can think of an action as an event that describes something that happened in the application.</p>

<p>When an action is dispatched, the store runs the root reducer function, and lets it calculate the new state based on the old state and the action
Finally, the store notifies subscribers that the state has been updated so the UI can be updated with the new data.</p>

<p>A reducer is a function that receives the current state and an action object, decides how to update the state if necessary, and returns the new state: (state, action) =&gt; newState. You can think of a reducer as an event listener which handles events based on the received action (event) type.
Reducers act like event listeners, and when they hear an action they are interested in, they update the state in response.</p>

<p>React-Redux 将所有组件分成两大类：UI 组件（presentational component）和容器组件（container component）。
因为不含有状态，UI 组件又称为”纯组件”，即纯函数一样，纯粹由参数决定它的值。</p>

<p>React-Redux规定，所有的UI组件都由用户提供，容器组件则是由React-Redux自动生成。也就是说，用户负责视觉层，状态管理则是全部交给它。React-Redux提供connect方法，用于从 UI 组件生成容器组件。connect的意思，就是将这两种组件连起来。</p>

<p>connect方法接受两个参数：mapStateToProps和mapDispatchToProps。它们定义了UI组件的业务逻辑。前者负责输入逻辑，即将state映射到UI组件的参数（props），后者负责输出逻辑，即将用户对UI组件的操作映射成 Action。connect方法可以省略mapStateToProps参数，那样的话，UI组件就不会订阅Store，就是说Store的更新不会引起UI组件的更新。</p>

<p>mapStateToProps是一个函数。它的作用就是像它的名字那样，建立一个从（外部的）state对象到（UI组件的）props对象的映射关系。mapStateToProps会订阅 Store，每当state更新的时候，就会自动执行，重新计算 UI 组件的参数，从而触发 UI 组件的重新渲染</p>

<p>mapDispatchToProps是connect函数的第二个参数，用来建立UI组件的参数到store.dispatch方法的映射。也就是说，它定义了哪些用户的操作应该当作 Action，传给 Store。</p>

<figure class="highlight"><pre><code class="language-react" data-lang="react"><span class="kd">const</span> <span class="nx">AppInitializer</span> <span class="o">=</span> <span class="nx">connect</span><span class="p">(</span><span class="nx">mapStateToProps</span><span class="p">,</span> <span class="nx">mapDispatchToProps</span><span class="p">)(</span><span class="nx">_AppInitializer</span><span class="p">);</span></code></pre></figure>

<p><code class="language-plaintext highlighter-rouge">_AppInitializer</code>, 这个是个UI组件， <code class="language-plaintext highlighter-rouge">AppInitializer</code>这个就是个容器组件</p>

<p>React-Redux 提供Provider组件，可以让容器组件拿到state。</p>

<p>createSlice
The string from the name option is used as the first part of each action type, and the key name of each reducer function is used as the second part. So, the “counter” name + the “increment” reducer function generated an action type of {type: “counter/increment”}</p>

<p>Selectors are functions that know how to extract specific pieces of information from a store state value.</p>

<p><code class="language-plaintext highlighter-rouge">useSelector</code>: read the initial data from the store
<code class="language-plaintext highlighter-rouge">useDispatch</code>: to dispatch the action to update the state in the store</p>


  </div><a class="u-url" href="/react,/redux/2022/01/13/react-learning.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Vicky github page</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Vicky github page</li><li><a class="u-email" href="mailto:vickylixiwen@163.com">vickylixiwen@163.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/vickylixiwen"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">vickylixiwen</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
